<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum Mahasiswa</title>
    <link rel="stylesheet" href="../src/css/dashboard.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navigation">
        <div class="navi-title">
            <div class="foma-icon">
                <img src="https://img.icons8.com/?size=100&id=56021&format=png&color=000000" alt="Icon">
            </div>
            Foma
        </div>
    
        <!-- Search Bar -->
        <form class="search" id="searchForm">
            <input type="text" placeholder="Searching for something?" id="searchInput" name="query">
            <button type="submit" class="search-icon">
                <img src="https://img.icons8.com/?size=100&id=elSdeHsB03U3&format=png&color=000000" alt="Search">
            </button>
        </form>

        <!-- Login, Sign Up, and Profile links -->
        <div class="navi-link" id="links">
            <!-- Default navbar for users not logged in -->
            <a href="#" class="btn navi-links" id="loginLink" onclick="showpage('login'); return false;">Log In</a>
            <a href="#" class="btn navi-links" id="signupLink" onclick="showpage('signup'); return false;">Sign Up</a>

            <!-- Hidden navbar for logged in users -->
            <div class="profile-btn" id="profileBtn" style="display: none;" onclick="dropdown()">
                <span id="userInit">T</span>
                <span id="userName">User</span>

                <!-- Dropdown Menu -->
                <div class="profile-dropdown" id="dropdown">
                    <!-- Profile Page Link -->
                    <a href="#" class="dropdown-item" id="profileLink" onclick="showpage('profile')"">
                        <span>
                            <img src="https://img.icons8.com/?size=100&id=2QXdHDYztybb&format=png&color=000000" alt="Profile">
                        </span>
                        <span>User Profile</span>
                    </a>

                    <!-- Logout Option -->
                    <div class="dropdown-item" onclick="logout()">
                        <span>
                            <img src="https://img.icons8.com/?size=100&id=BdksXmxLaK8r&format=png&color=000000" alt="Logout">
                        </span>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard -->
    <div class="container">
        <div class="main-dashboard">
            <!-- Left Sidebar -->
            <div class="left-sidebar">
                <!-- Link to Homepage -->
                <a href="#" class="sidebar-item active" onclick="showpage('home')">
                    <span class="icon">
                        <img src="https://img.icons8.com/?size=100&id=i6fZC6wuprSu&format=png&color=000000" alt="Home">
                    </span>
                    <span>Home</span>
                </a>

                <!-- Link to Community Page -->
                <a href="#" class="sidebar-item" onclick="showpage('community')">
                    <span class="icon">
                        <img src="https://img.icons8.com/?size=100&id=o3zCJnjkUG3q&format=png&color=000000" alt="Community">
                    </span>
                    <span>Community</span>
                </a>

                <!-- Link to Category Page -->
                <a href="#" class="sidebar-item" onclick="toggleCategories()">
                    <span class="icon">
                        <img src="https://img.icons8.com/?size=100&id=82774&format=png&color=000000" alt="Category">
                    </span>
                    <span>Categories</span>
                </a>
                <div id="categoryList" style="display: none; margin-left: 1rem;">
                    <div class="sidebar-item" style="padding: 0.5rem; cursor: pointer; padding-left: 1.3rem;" onclick="showpage('programming')">Programming</div>
                    <div class="sidebar-item" style="padding: 0.5rem; cursor: pointer; padding-left: 1.3rem;" onclick="showpage('general')">General</div>
                </div>

                <!-- Community tab -->
                <a href="#" class="sidebar-item" onclick="showpage('community')">
                    <span class="icon">
                        <img src="https://img.icons8.com/?size=100&id=82774&format=png&color=000000" alt="Category">
                    </span>
                    <span>Community</span>
                </a>

                <!-- Popular Topics Widget -->
                <div class="widget topics-widget">
                    <h3>
                        <img src="https://img.icons8.com/?size=100&id=lhrKPeMFIFdF&format=png&color=000000" alt="Popular">
                        Popular Topics
                    </h3>
                    <!-- Popular Topics Examples -->
                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                        <span class="category-highlight">#JavaScript</span>
                        <span class="category-highlight">#Python</span>
                        <span class="category-highlight">#StudyGroup</span>
                        <span class="category-highlight">#Career</span>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Dynamic Section Header -->
                <div class="section-header" id="sectionHeader">
                    <h2 id="pageTitle">Latest Discussions</h2>
                </div>
                
                <!-- Dynamic Main Content Area -->
                <div id="mainContentArea">
                    <!-- Content will be loaded here by JavaScript -->
                </div>
                <iframe id="searchFrame" style="display: none; width: 100%; height: 80vh; border: none;"></iframe>
            </div>

            <!-- Right Sidebar -->
            <div class="right-sidebar">
                <!-- Events -->
                <div class="widget events-widget">
                    <h3>
                        <img src="https://img.icons8.com/?size=100&id=26057&format=png&color=000000" alt="Upcoming">
                        Upcoming Events
                    </h3>
                    <div id="eventsListContainer">
                        <div class="event-item">
                            <div class="event-date">Loading...</div>
                            <div class="event-title">Fetching Events List...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../src/js/dashboard.js"></script>
    <script src="../src/js/communityscript.js"></script>
</body>
</html>